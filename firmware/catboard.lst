   1               		.file	"catboard.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               		.section	.text.change_layout,"ax",@progbits
  17               	.global	change_layout
  19               	change_layout:
  20               	.LFB13:
  21               	.LSM0:
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24               	/* stack size = 0 */
  25               	.L__stack_usage = 0
  26               	.LSM1:
  27 0000 8091 0000 		lds r24,mac_mode
  28 0004 8823      		tst r24
  29 0006 01F0      		breq .L2
  30               	.LSM2:
  31 0008 88E0      		ldi r24,lo8(8)
  32 000a 8093 0000 		sts keyboard_modifier_keys,r24
  33               	.LSM3:
  34 000e 1092 0000 		sts keyboard_keys,__zero_reg__
  35               	.LSM4:
  36 0012 0E94 0000 		call usb_keyboard_send
  37               	.LVL0:
  38               	.LBB19:
  39               	.LBB20:
  40               	.LSM5:
  41 0016 8FEF      		 ldi r24,lo8(159999)
  42 0018 90E7      	    ldi r25,hi8(159999)
  43 001a A2E0      	    ldi r26,hlo8(159999)
  44 001c 8150      	    1:subi r24,1
  45 001e 9040      	    sbci r25,0
  46 0020 A040      	    sbci r26,0
  47 0022 01F4      	    brne 1b
  48 0024 00C0      		rjmp .
  49 0026 0000      		nop
  50               	.LBE20:
  51               	.LBE19:
  52               	.LSM6:
  53 0028 8CE2      		ldi r24,lo8(44)
  54 002a 68E0      		ldi r22,lo8(8)
  55 002c 00C0      		rjmp .L4
  56               	.LVL1:
  57               	.L2:
  58               	.LSM7:
  59 002e 84E0      		ldi r24,lo8(4)
  60 0030 8093 0000 		sts keyboard_modifier_keys,r24
  61               	.LSM8:
  62 0034 1092 0000 		sts keyboard_keys,__zero_reg__
  63               	.LSM9:
  64 0038 0E94 0000 		call usb_keyboard_send
  65               	.LVL2:
  66               	.LBB21:
  67               	.LBB22:
  68               	.LSM10:
  69 003c 8FEF      		 ldi r24,lo8(159999)
  70 003e 90E7      	    ldi r25,hi8(159999)
  71 0040 A2E0      	    ldi r26,hlo8(159999)
  72 0042 8150      	    1:subi r24,1
  73 0044 9040      	    sbci r25,0
  74 0046 A040      	    sbci r26,0
  75 0048 01F4      	    brne 1b
  76 004a 00C0      		rjmp .
  77 004c 0000      		nop
  78               	.LBE22:
  79               	.LBE21:
  80               	.LSM11:
  81 004e 80E0      		ldi r24,lo8(0)
  82 0050 66E0      		ldi r22,lo8(6)
  83               	.LVL3:
  84               	.L4:
  85 0052 0E94 0000 		call usb_keyboard_press
  86 0056 0895      		ret
  87               	.LFE13:
  89               		.section	.text.init,"ax",@progbits
  90               	.global	init
  92               	init:
  93               	.LFB8:
  94               	.LSM12:
  95               	/* prologue: function */
  96               	/* frame size = 0 */
  97               	/* stack size = 0 */
  98               	.L__stack_usage = 0
  99               	.LSM13:
 100 0000 80E8      		ldi r24,lo8(-128)
 101 0002 8093 6100 		sts 97,r24
 102 0006 1092 6100 		sts 97,__zero_reg__
 103               	.LSM14:
 104 000a 14B8      		out 36-32,__zero_reg__
 105 000c 94EF      		ldi r25,lo8(-12)
 106 000e 97B9      		out 39-32,r25
 107 0010 1AB8      		out 42-32,__zero_reg__
 108               	.LSM15:
 109 0012 8FEF      		ldi r24,lo8(-1)
 110 0014 85B9      		out 37-32,r24
 111 0016 98B9      		out 40-32,r25
 112 0018 8BB9      		out 43-32,r24
 113               	.LSM16:
 114 001a 549A      		sbi 42-32,4
 115               	.LSM17:
 116 001c 5C9A      		sbi 43-32,4
 117               	.LVL4:
 118 001e E0E0      		ldi r30,lo8(pressed)
 119 0020 F0E0      		ldi r31,hi8(pressed)
 120               	.LVL5:
 121               	.L6:
 122               	.LBB23:
 123               	.LSM18:
 124 0022 1192      		st Z+,__zero_reg__
 125               	.LSM19:
 126 0024 80E0      		ldi r24,hi8(pressed+60)
 127 0026 E030      		cpi r30,lo8(pressed+60)
 128 0028 F807      		cpc r31,r24
 129 002a 01F4      		brne .L6
 130               	.LBE23:
 131               	.LSM20:
 132 002c 0E94 0000 		call usb_init
 133               	.LSM21:
 134 0030 5C98      		cbi 43-32,4
 135               	.L7:
 136               	.LSM22:
 137 0032 0E94 0000 		call usb_configured
 138 0036 8823      		tst r24
 139 0038 01F0      		breq .L7
 140               	.LSM23:
 141 003a 5C9A      		sbi 43-32,4
 142               	.LVL6:
 143               	.LBB24:
 144               	.LBB25:
 145               	.LSM24:
 146 003c 8FEF      		 ldi r24,lo8(3199999)
 147 003e 93ED      	    ldi r25,hi8(3199999)
 148 0040 A0E3      	    ldi r26,hlo8(3199999)
 149 0042 8150      	    1:subi r24,1
 150 0044 9040      	    sbci r25,0
 151 0046 A040      	    sbci r26,0
 152 0048 01F4      	    brne 1b
 153 004a 00C0      		rjmp .
 154 004c 0000      		nop
 155               	.LBE25:
 156               	.LBE24:
 157               	.LSM25:
 158 004e 5C98      		cbi 43-32,4
 159               	/* epilogue start */
 160               	.LSM26:
 161 0050 0895      		ret
 162               	.LFE8:
 164               		.section	.text.get_code,"ax",@progbits
 165               	.global	get_code
 167               	get_code:
 168               	.LFB15:
 169               	.LSM27:
 170               	.LVL7:
 171               	/* prologue: function */
 172               	/* frame size = 0 */
 173               	/* stack size = 0 */
 174               	.L__stack_usage = 0
 175               	.LSM28:
 176 0000 8C33      		cpi r24,lo8(60)
 177 0002 00F4      		brsh .L14
 178               	.LSM29:
 179 0004 282F      		mov r18,r24
 180 0006 30E0      		ldi r19,lo8(0)
 181 0008 F901      		movw r30,r18
 182 000a E050      		subi r30,lo8(-(pressed))
 183 000c F040      		sbci r31,hi8(-(pressed))
 184 000e 9081      		ld r25,Z
 185 0010 9130      		cpi r25,lo8(1)
 186 0012 01F4      		brne .L12
 187               	.LVL8:
 188               	.LSM30:
 189 0014 2050      		subi r18,lo8(-(layer_fn))
 190 0016 3040      		sbci r19,hi8(-(layer_fn))
 191               	.LVL9:
 192 0018 F901      		movw r30,r18
 193 001a 8081      		ld r24,Z
 194               	.LVL10:
 195 001c 1816      		cp __zero_reg__,r24
 196 001e 04F0      		brlt .L11
 197               	.LSM31:
 198 0020 80E0      		ldi r24,lo8(0)
 199 0022 0895      		ret
 200               	.LVL11:
 201               	.L12:
 202               	.LSM32:
 203 0024 4091 0000 		lds r20,layout
 204 0028 5091 0000 		lds r21,layout+1
 205 002c F0E0      		ldi r31,hi8(layer_fn)
 206 002e 4030      		cpi r20,lo8(layer_fn)
 207 0030 5F07      		cpc r21,r31
 208 0032 01F0      		breq .L13
 209               	.LSM33:
 210 0034 9230      		cpi r25,lo8(2)
 211 0036 01F4      		brne .L13
 212               	.LSM34:
 213 0038 2050      		subi r18,lo8(-(layer1))
 214 003a 3040      		sbci r19,hi8(-(layer1))
 215               	.LVL12:
 216 003c F901      		movw r30,r18
 217 003e 00C0      		rjmp .L15
 218               	.L13:
 219               	.LSM35:
 220 0040 480F      		add r20,r24
 221 0042 511D      		adc r21,__zero_reg__
 222 0044 FA01      		movw r30,r20
 223               	.L15:
 224 0046 8081      		ld r24,Z
 225               	.LVL13:
 226 0048 0895      		ret
 227               	.LVL14:
 228               	.L14:
 229               	.LSM36:
 230 004a 80E0      		ldi r24,lo8(0)
 231               	.LVL15:
 232               	.L11:
 233               	.LSM37:
 234 004c 0895      		ret
 235               	.LFE15:
 237               		.section	.text.send,"ax",@progbits
 238               	.global	send
 240               	send:
 241               	.LFB14:
 242               	.LSM38:
 243 0000 0F93      		push r16
 244 0002 1F93      		push r17
 245 0004 CF93      		push r28
 246 0006 DF93      		push r29
 247               	/* prologue: function */
 248               	/* frame size = 0 */
 249               	/* stack size = 4 */
 250               	.L__stack_usage = 4
 251               	.LVL16:
 252               	.LSM39:
 253 0008 C0E0      		ldi r28,lo8(queue)
 254 000a D0E0      		ldi r29,hi8(queue)
 255 000c 00E0      		ldi r16,lo8(keyboard_keys)
 256 000e 10E0      		ldi r17,hi8(keyboard_keys)
 257               	.LVL17:
 258               	.L17:
 259               	.LSM40:
 260 0010 8991      		ld r24,Y+
 261 0012 0E94 0000 		call get_code
 262 0016 F801      		movw r30,r16
 263 0018 8193      		st Z+,r24
 264 001a 8F01      		movw r16,r30
 265               	.LSM41:
 266 001c F0E0      		ldi r31,hi8(queue+6)
 267 001e C030      		cpi r28,lo8(queue+6)
 268 0020 DF07      		cpc r29,r31
 269 0022 01F4      		brne .L17
 270               	.LSM42:
 271 0024 8091 0000 		lds r24,mod_keys
 272 0028 8093 0000 		sts keyboard_modifier_keys,r24
 273               	.LSM43:
 274 002c 0E94 0000 		call usb_keyboard_send
 275               	/* epilogue start */
 276               	.LSM44:
 277 0030 DF91      		pop r29
 278 0032 CF91      		pop r28
 279 0034 1F91      		pop r17
 280 0036 0F91      		pop r16
 281 0038 0895      		ret
 282               	.LFE14:
 284               		.section	.text.key_release,"ax",@progbits
 285               	.global	key_release
 287               	key_release:
 288               	.LFB12:
 289               	.LSM45:
 290               	.LVL18:
 291 0000 DF93      		push r29
 292 0002 CF93      		push r28
 293 0004 0F92      		push __tmp_reg__
 294 0006 CDB7      		in r28,__SP_L__
 295 0008 DEB7      		in r29,__SP_H__
 296               	/* prologue: function */
 297               	/* frame size = 1 */
 298               	/* stack size = 3 */
 299               	.L__stack_usage = 3
 300               	.LSM46:
 301 000a 282F      		mov r18,r24
 302 000c 30E0      		ldi r19,lo8(0)
 303 000e F901      		movw r30,r18
 304 0010 E050      		subi r30,lo8(-(pressed))
 305 0012 F040      		sbci r31,hi8(-(pressed))
 306 0014 6081      		ld r22,Z
 307               	.LVL19:
 308               	.LSM47:
 309 0016 6130      		cpi r22,lo8(1)
 310 0018 01F4      		brne .L20
 311               	.LVL20:
 312               	.LSM48:
 313 001a F901      		movw r30,r18
 314               	.LVL21:
 315 001c E050      		subi r30,lo8(-(layer_fn))
 316 001e F040      		sbci r31,hi8(-(layer_fn))
 317 0020 00C0      		rjmp .L39
 318               	.L20:
 319               	.LSM49:
 320 0022 E091 0000 		lds r30,layout
 321 0026 F091 0000 		lds r31,layout+1
 322 002a E20F      		add r30,r18
 323 002c F31F      		adc r31,r19
 324 002e 9081      		ld r25,Z
 325               	.LVL22:
 326               	.LSM50:
 327 0030 6530      		cpi r22,lo8(5)
 328 0032 01F4      		brne .L21
 329               	.LSM51:
 330 0034 4091 0000 		lds r20,prev_layer
 331 0038 5091 0000 		lds r21,prev_layer+1
 332 003c 4115      		cp r20,__zero_reg__
 333 003e 5105      		cpc r21,__zero_reg__
 334 0040 01F0      		breq .L21
 335               	.LSM52:
 336 0042 420F      		add r20,r18
 337 0044 531F      		adc r21,r19
 338 0046 FA01      		movw r30,r20
 339               	.LVL23:
 340               	.L39:
 341 0048 9081      		ld r25,Z
 342               	.LVL24:
 343               	.L21:
 344               	.LSM53:
 345 004a 2050      		subi r18,lo8(-(pressed))
 346 004c 3040      		sbci r19,hi8(-(pressed))
 347               	.LVL25:
 348 004e F901      		movw r30,r18
 349 0050 1082      		st Z,__zero_reg__
 350               	.LSM54:
 351 0052 913F      		cpi r25,lo8(-15)
 352 0054 00F0      		brlo .L22
 353               	.LSM55:
 354 0056 9D3F      		cpi r25,lo8(-3)
 355 0058 01F4      		brne .L23
 356               	.LSM56:
 357 005a 6330      		cpi r22,lo8(3)
 358 005c 01F0      		breq .L23
 359               	.LSM57:
 360 005e 8091 0000 		lds r24,mod_keys
 361               	.LVL26:
 362 0062 8B7F      		andi r24,lo8(-5)
 363 0064 00C0      		rjmp .L40
 364               	.LVL27:
 365               	.L23:
 366               	.LSM58:
 367 0066 915F      		subi r25,lo8(-(15))
 368               	.LVL28:
 369 0068 9230      		cpi r25,lo8(2)
 370 006a 00F0      		brlo .+2
 371 006c 00C0      		rjmp .L19
 372               	.LSM59:
 373 006e 6430      		cpi r22,lo8(4)
 374 0070 01F0      		breq .+2
 375 0072 00C0      		rjmp .L19
 376               	.LSM60:
 377 0074 8091 0000 		lds r24,mod_keys
 378               	.LVL29:
 379 0078 8D7F      		andi r24,lo8(-3)
 380 007a 00C0      		rjmp .L40
 381               	.LVL30:
 382               	.L22:
 383               	.LSM61:
 384 007c 97FF      		sbrs r25,7
 385 007e 00C0      		rjmp .L25
 386               	.LSM62:
 387 0080 8091 0000 		lds r24,mac_mode
 388               	.LVL31:
 389 0084 8823      		tst r24
 390 0086 01F0      		breq .L26
 391               	.LSM63:
 392 0088 9138      		cpi r25,lo8(-127)
 393 008a 01F4      		brne .L27
 394               	.LSM64:
 395 008c 8091 0000 		lds r24,mod_keys
 396 0090 877F      		andi r24,lo8(-9)
 397 0092 00C0      		rjmp .L40
 398               	.L27:
 399               	.LSM65:
 400 0094 9039      		cpi r25,lo8(-112)
 401 0096 01F0      		breq .L29
 402               	.L26:
 403               	.LSM66:
 404 0098 9038      		cpi r25,lo8(-128)
 405 009a 01F4      		brne .L30
 406               	.L29:
 407               	.LSM67:
 408 009c 8091 0000 		lds r24,mod_keys
 409 00a0 8F77      		andi r24,lo8(127)
 410 00a2 00C0      		rjmp .L40
 411               	.L30:
 412               	.LSM68:
 413 00a4 9F77      		andi r25,lo8(127)
 414               	.LVL32:
 415 00a6 9095      		com r25
 416 00a8 8091 0000 		lds r24,mod_keys
 417 00ac 8923      		and r24,r25
 418               	.L40:
 419 00ae 8093 0000 		sts mod_keys,r24
 420               	.LSM69:
 421 00b2 0E94 0000 		call send
 422               	.LVL33:
 423 00b6 00C0      		rjmp .L19
 424               	.LVL34:
 425               	.L25:
 426 00b8 E0E0      		ldi r30,lo8(queue)
 427 00ba F0E0      		ldi r31,hi8(queue)
 428               	.LSM70:
 429 00bc 90E0      		ldi r25,lo8(0)
 430               	.LVL35:
 431               	.L33:
 432               	.LSM71:
 433 00be 2191      		ld r18,Z+
 434 00c0 2817      		cp r18,r24
 435 00c2 01F0      		breq .L38
 436               	.LSM72:
 437 00c4 9F5F      		subi r25,lo8(-(1))
 438               	.LVL36:
 439 00c6 9630      		cpi r25,lo8(6)
 440 00c8 01F4      		brne .L33
 441 00ca 00C0      		rjmp .L38
 442               	.L35:
 443               	.LSM73:
 444 00cc E92F      		mov r30,r25
 445 00ce F0E0      		ldi r31,lo8(0)
 446 00d0 E050      		subi r30,lo8(-(queue))
 447 00d2 F040      		sbci r31,hi8(-(queue))
 448 00d4 2181      		ldd r18,Z+1
 449 00d6 2083      		st Z,r18
 450               	.LSM74:
 451 00d8 9F5F      		subi r25,lo8(-(1))
 452               	.LVL37:
 453               	.L38:
 454               	.LSM75:
 455 00da 9630      		cpi r25,lo8(6)
 456 00dc 00F0      		brlo .L35
 457               	.LSM76:
 458 00de 8983      		std Y+1,r24
 459 00e0 0E94 0000 		call send
 460               	.LVL38:
 461               	.LSM77:
 462 00e4 9091 0000 		lds r25,last_key
 463 00e8 8981      		ldd r24,Y+1
 464 00ea 9817      		cp r25,r24
 465 00ec 01F4      		brne .L36
 466               	.LSM78:
 467 00ee 1092 0000 		sts press_time2+1,__zero_reg__
 468 00f2 1092 0000 		sts press_time2,__zero_reg__
 469               	.LSM79:
 470 00f6 81E0      		ldi r24,lo8(1)
 471 00f8 90E0      		ldi r25,hi8(1)
 472 00fa 9093 0000 		sts release_time+1,r25
 473 00fe 8093 0000 		sts release_time,r24
 474 0102 00C0      		rjmp .L42
 475               	.L36:
 476               	.LSM80:
 477 0104 1092 0000 		sts press_time+1,__zero_reg__
 478 0108 1092 0000 		sts press_time,__zero_reg__
 479               	.LSM81:
 480 010c 1092 0000 		sts press_time2+1,__zero_reg__
 481 0110 1092 0000 		sts press_time2,__zero_reg__
 482               	.LSM82:
 483 0114 1092 0000 		sts release_time+1,__zero_reg__
 484 0118 1092 0000 		sts release_time,__zero_reg__
 485               	.L42:
 486               	.LSM83:
 487 011c 1092 0000 		sts repeat_time+1,__zero_reg__
 488 0120 1092 0000 		sts repeat_time,__zero_reg__
 489               	.L19:
 490               	/* epilogue start */
 491               	.LSM84:
 492 0124 0F90      		pop __tmp_reg__
 493 0126 CF91      		pop r28
 494 0128 DF91      		pop r29
 495 012a 0895      		ret
 496               	.LFE12:
 498               		.section	.text.key_press,"ax",@progbits
 499               	.global	key_press
 501               	key_press:
 502               	.LFB11:
 503               	.LSM85:
 504               	.LVL39:
 505 0000 DF93      		push r29
 506 0002 CF93      		push r28
 507 0004 0F92      		push __tmp_reg__
 508 0006 CDB7      		in r28,__SP_L__
 509 0008 DEB7      		in r29,__SP_H__
 510               	/* prologue: function */
 511               	/* frame size = 1 */
 512               	/* stack size = 3 */
 513               	.L__stack_usage = 3
 514               	.LSM86:
 515 000a A091 0000 		lds r26,mod_keys
 516 000e 6A2F      		mov r22,r26
 517 0010 6D7D      		andi r22,lo8(-35)
 518               	.LVL40:
 519               	.LSM87:
 520 0012 282F      		mov r18,r24
 521 0014 30E0      		ldi r19,lo8(0)
 522 0016 9091 0000 		lds r25,pressed+35
 523 001a 9923      		tst r25
 524 001c 01F4      		brne .L82
 525               	.LVL41:
 526               	.LSM88:
 527 001e 6623      		tst r22
 528 0020 01F0      		breq .L83
 529               	.LSM89:
 530 0022 92E0      		ldi r25,lo8(2)
 531 0024 00C0      		rjmp .L44
 532               	.L82:
 533 0026 91E0      		ldi r25,lo8(1)
 534 0028 00C0      		rjmp .L44
 535               	.L83:
 536 002a 9FEF      		ldi r25,lo8(-1)
 537               	.L44:
 538               	.LSM90:
 539 002c F901      		movw r30,r18
 540 002e E050      		subi r30,lo8(-(pressed))
 541 0030 F040      		sbci r31,hi8(-(pressed))
 542 0032 9083      		st Z,r25
 543               	.LSM91:
 544 0034 9130      		cpi r25,lo8(1)
 545 0036 01F4      		brne .L45
 546               	.LSM92:
 547 0038 F901      		movw r30,r18
 548 003a E050      		subi r30,lo8(-(layer_fn))
 549 003c F040      		sbci r31,hi8(-(layer_fn))
 550 003e 00C0      		rjmp .L85
 551               	.L45:
 552               	.LSM93:
 553 0040 E091 0000 		lds r30,layout
 554 0044 F091 0000 		lds r31,layout+1
 555 0048 E80F      		add r30,r24
 556 004a F11D      		adc r31,__zero_reg__
 557               	.L85:
 558 004c 9081      		ld r25,Z
 559               	.LVL42:
 560               	.LSM94:
 561 004e 9923      		tst r25
 562 0050 01F4      		brne .L47
 563               	.LSM95:
 564 0052 482F      		mov r20,r24
 565 0054 50E0      		ldi r21,lo8(0)
 566 0056 E091 0000 		lds r30,layout
 567 005a F091 0000 		lds r31,layout+1
 568               	.LVL43:
 569 005e E40F      		add r30,r20
 570 0060 F51F      		adc r31,r21
 571 0062 9081      		ld r25,Z
 572               	.LVL44:
 573               	.LSM96:
 574 0064 6623      		tst r22
 575 0066 01F0      		breq .L84
 576 0068 62E0      		ldi r22,lo8(2)
 577               	.LVL45:
 578 006a 00C0      		rjmp .L48
 579               	.LVL46:
 580               	.L84:
 581 006c 6FEF      		ldi r22,lo8(-1)
 582               	.LVL47:
 583               	.L48:
 584               	.LSM97:
 585 006e F901      		movw r30,r18
 586               	.LVL48:
 587 0070 E050      		subi r30,lo8(-(pressed))
 588 0072 F040      		sbci r31,hi8(-(pressed))
 589 0074 6083      		st Z,r22
 590               	.LSM98:
 591 0076 9923      		tst r25
 592 0078 01F4      		brne .L47
 593               	.LSM99:
 594 007a 6091 0000 		lds r22,prev_layer
 595 007e 7091 0000 		lds r23,prev_layer+1
 596 0082 6115      		cp r22,__zero_reg__
 597 0084 7105      		cpc r23,__zero_reg__
 598 0086 01F4      		brne .+2
 599 0088 00C0      		rjmp .L73
 600 008a AA23      		tst r26
 601 008c 01F0      		breq .+2
 602 008e 00C0      		rjmp .L73
 603               	.LSM100:
 604 0090 460F      		add r20,r22
 605 0092 571F      		adc r21,r23
 606 0094 DA01      		movw r26,r20
 607 0096 9C91      		ld r25,X
 608               	.LVL49:
 609               	.LSM101:
 610 0098 45E0      		ldi r20,lo8(5)
 611               	.LVL50:
 612 009a 4083      		st Z,r20
 613               	.LVL51:
 614               	.L47:
 615               	.LSM102:
 616 009c 913F      		cpi r25,lo8(-15)
 617 009e 00F4      		brsh .+2
 618 00a0 00C0      		rjmp .L49
 619               	.LSM103:
 620 00a2 9D3F      		cpi r25,lo8(-3)
 621 00a4 01F4      		brne .L50
 622               	.LSM104:
 623 00a6 F901      		movw r30,r18
 624 00a8 E050      		subi r30,lo8(-(pressed))
 625 00aa F040      		sbci r31,hi8(-(pressed))
 626 00ac 8081      		ld r24,Z
 627 00ae 8130      		cpi r24,lo8(1)
 628 00b0 01F4      		brne .L51
 629               	.LSM105:
 630 00b2 8BE2      		ldi r24,lo8(43)
 631 00b4 64E0      		ldi r22,lo8(4)
 632 00b6 00C0      		rjmp .L87
 633               	.L51:
 634               	.LSM106:
 635 00b8 8091 0000 		lds r24,mod_keys
 636 00bc 982F      		mov r25,r24
 637               	.LVL52:
 638 00be 9D7D      		andi r25,lo8(-35)
 639 00c0 01F4      		brne .L53
 640               	.LSM107:
 641 00c2 8460      		ori r24,lo8(4)
 642 00c4 8093 0000 		sts mod_keys,r24
 643 00c8 00C0      		rjmp .L54
 644               	.L53:
 645               	.LSM108:
 646 00ca 83E0      		ldi r24,lo8(3)
 647 00cc 8083      		st Z,r24
 648               	.L54:
 649               	.LSM109:
 650 00ce 8091 0000 		lds r24,mod_keys
 651 00d2 8093 0000 		sts keyboard_modifier_keys,r24
 652               	.LSM110:
 653 00d6 8BE2      		ldi r24,lo8(43)
 654 00d8 8093 0000 		sts keyboard_keys,r24
 655               	.LSM111:
 656 00dc 0E94 0000 		call usb_keyboard_send
 657               	.LVL53:
 658               	.LBB26:
 659               	.LBB27:
 660               	.LSM112:
 661 00e0 8FEF      		 ldi r24,lo8(159999)
 662 00e2 90E7      	    ldi r25,hi8(159999)
 663 00e4 A2E0      	    ldi r26,hlo8(159999)
 664 00e6 8150      	    1:subi r24,1
 665 00e8 9040      	    sbci r25,0
 666 00ea A040      	    sbci r26,0
 667 00ec 01F4      	    brne 1b
 668 00ee 00C0      		rjmp .
 669 00f0 0000      		nop
 670 00f2 00C0      		rjmp .L89
 671               	.LVL54:
 672               	.L50:
 673               	.LBE27:
 674               	.LBE26:
 675               	.LSM113:
 676 00f4 9E3F      		cpi r25,lo8(-2)
 677 00f6 01F4      		brne .L55
 678               	.LSM114:
 679 00f8 8091 0000 		lds r24,prev_layer
 680 00fc 9091 0000 		lds r25,prev_layer+1
 681 0100 0097      		sbiw r24,0
 682 0102 01F0      		breq .L56
 683               	.LSM115:
 684 0104 9093 0000 		sts layout+1,r25
 685 0108 8093 0000 		sts layout,r24
 686               	.LSM116:
 687 010c 1092 0000 		sts prev_layer+1,__zero_reg__
 688 0110 1092 0000 		sts prev_layer,__zero_reg__
 689 0114 00C0      		rjmp .L57
 690               	.L56:
 691               	.LSM117:
 692 0116 8091 0000 		lds r24,layout
 693 011a 9091 0000 		lds r25,layout+1
 694 011e 9093 0000 		sts prev_layer+1,r25
 695 0122 8093 0000 		sts prev_layer,r24
 696               	.LSM118:
 697 0126 80E0      		ldi r24,lo8(layer_fnlock)
 698 0128 90E0      		ldi r25,hi8(layer_fnlock)
 699 012a 9093 0000 		sts layout+1,r25
 700 012e 8093 0000 		sts layout,r24
 701               	.L57:
 702               	.LSM119:
 703 0132 8091 0000 		lds r24,prev_layer
 704 0136 9091 0000 		lds r25,prev_layer+1
 705 013a 0097      		sbiw r24,0
 706 013c 01F4      		brne .L63
 707               	.LSM120:
 708 013e 8091 0000 		lds r24,mac_mode
 709 0142 8823      		tst r24
 710 0144 01F0      		breq .L64
 711 0146 00C0      		rjmp .L63
 712               	.L55:
 713               	.LSM121:
 714 0148 9C3F      		cpi r25,lo8(-4)
 715 014a 01F4      		brne .L60
 716               	.LSM122:
 717 014c 2050      		subi r18,lo8(-(pressed))
 718 014e 3040      		sbci r19,hi8(-(pressed))
 719               	.LVL55:
 720 0150 D901      		movw r26,r18
 721 0152 8C91      		ld r24,X
 722               	.LVL56:
 723 0154 8130      		cpi r24,lo8(1)
 724 0156 01F4      		brne .L61
 725               	.LSM123:
 726 0158 8091 0000 		lds r24,mod_keys
 727 015c 8272      		andi r24,lo8(34)
 728 015e 01F0      		breq .L61
 729               	.LSM124:
 730 0160 81E0      		ldi r24,lo8(1)
 731 0162 9091 0000 		lds r25,mac_mode
 732               	.LVL57:
 733 0166 9111      		cpse r25,__zero_reg__
 734 0168 80E0      		ldi r24,lo8(0)
 735               	.L62:
 736 016a 8093 0000 		sts mac_mode,r24
 737               	.LSM125:
 738 016e 8823      		tst r24
 739 0170 01F4      		brne .L63
 740               	.LSM126:
 741 0172 8091 0000 		lds r24,prev_layer
 742 0176 9091 0000 		lds r25,prev_layer+1
 743 017a 0097      		sbiw r24,0
 744 017c 01F0      		breq .L64
 745               	.L63:
 746               	.LSM127:
 747 017e 5C9A      		sbi 43-32,4
 748 0180 00C0      		rjmp .L43
 749               	.L64:
 750               	.LSM128:
 751 0182 5C98      		cbi 43-32,4
 752 0184 00C0      		rjmp .L43
 753               	.LVL58:
 754               	.L61:
 755               	.LSM129:
 756 0186 8CE2      		ldi r24,lo8(44)
 757 0188 6091 0000 		lds r22,mod_keys
 758               	.L87:
 759 018c 0E94 0000 		call usb_keyboard_press
 760               	.LVL59:
 761 0190 00C0      		rjmp .L43
 762               	.LVL60:
 763               	.L60:
 764               	.LSM130:
 765 0192 892F      		mov r24,r25
 766 0194 815F      		subi r24,lo8(-(15))
 767 0196 8230      		cpi r24,lo8(2)
 768 0198 00F4      		brsh .L65
 769               	.LSM131:
 770 019a 8091 0000 		lds r24,mod_keys
 771 019e 482F      		mov r20,r24
 772 01a0 4D7D      		andi r20,lo8(-35)
 773 01a2 01F0      		breq .L66
 774               	.LSM132:
 775 01a4 2050      		subi r18,lo8(-(pressed))
 776 01a6 3040      		sbci r19,hi8(-(pressed))
 777               	.LVL61:
 778 01a8 94E0      		ldi r25,lo8(4)
 779               	.LVL62:
 780 01aa F901      		movw r30,r18
 781 01ac 9083      		st Z,r25
 782               	.LSM133:
 783 01ae 8260      		ori r24,lo8(2)
 784 01b0 00C0      		rjmp .L86
 785               	.LVL63:
 786               	.L66:
 787               	.LSM134:
 788 01b2 913F      		cpi r25,lo8(-15)
 789 01b4 01F4      		brne .L67
 790               	.LSM135:
 791 01b6 2091 0000 		lds r18,layout
 792 01ba 3091 0000 		lds r19,layout+1
 793               	.LVL64:
 794 01be 80E0      		ldi r24,lo8(layer1)
 795 01c0 90E0      		ldi r25,hi8(layer1)
 796 01c2 2817      		cp r18,r24
 797 01c4 3907      		cpc r19,r25
 798 01c6 01F4      		brne .+2
 799 01c8 00C0      		rjmp .L43
 800               	.LBB28:
 801               	.LSM136:
 802 01ca 40E0      		ldi r20,hi8(layer_fn)
 803 01cc 2030      		cpi r18,lo8(layer_fn)
 804 01ce 3407      		cpc r19,r20
 805 01d0 01F4      		brne .L70
 806 01d2 00C0      		rjmp .L90
 807               	.LVL65:
 808               	.L67:
 809               	.LBE28:
 810               	.LSM137:
 811 01d4 923F      		cpi r25,lo8(-14)
 812 01d6 01F4      		brne .L65
 813               	.LSM138:
 814 01d8 2091 0000 		lds r18,layout
 815 01dc 3091 0000 		lds r19,layout+1
 816               	.LVL66:
 817 01e0 80E0      		ldi r24,hi8(layer2)
 818 01e2 2030      		cpi r18,lo8(layer2)
 819 01e4 3807      		cpc r19,r24
 820 01e6 01F4      		brne .+2
 821 01e8 00C0      		rjmp .L43
 822 01ea 80E0      		ldi r24,lo8(layer2)
 823 01ec 90E0      		ldi r25,hi8(layer2)
 824               	.LBB29:
 825               	.LSM139:
 826 01ee A0E0      		ldi r26,hi8(layer_fn)
 827 01f0 2030      		cpi r18,lo8(layer_fn)
 828 01f2 3A07      		cpc r19,r26
 829 01f4 01F4      		brne .L70
 830               	.L90:
 831               	.LSM140:
 832 01f6 9093 0000 		sts prev_layer+1,r25
 833 01fa 8093 0000 		sts prev_layer,r24
 834 01fe 00C0      		rjmp .L71
 835               	.L70:
 836               	.LSM141:
 837 0200 9093 0000 		sts layout+1,r25
 838 0204 8093 0000 		sts layout,r24
 839               	.L71:
 840               	.LSM142:
 841 0208 0E94 0000 		call change_layout
 842               	.LVL67:
 843 020c 00C0      		rjmp .L43
 844               	.LVL68:
 845               	.L65:
 846               	.LBE29:
 847               	.LSM143:
 848 020e 9B3F      		cpi r25,lo8(-5)
 849 0210 01F0      		breq .+2
 850 0212 00C0      		rjmp .L43
 851               	.LSM144:
 852 0214 81E0      		ldi r24,lo8(1)
 853 0216 9091 0000 		lds r25,turbo_repeat
 854               	.LVL69:
 855 021a 9111      		cpse r25,__zero_reg__
 856 021c 80E0      		ldi r24,lo8(0)
 857               	.L72:
 858 021e 8093 0000 		sts turbo_repeat,r24
 859 0222 00C0      		rjmp .L43
 860               	.LVL70:
 861               	.L49:
 862               	.LSM145:
 863 0224 97FF      		sbrs r25,7
 864 0226 00C0      		rjmp .L73
 865               	.LSM146:
 866 0228 8091 0000 		lds r24,mac_mode
 867 022c 8823      		tst r24
 868 022e 01F0      		breq .L74
 869               	.LSM147:
 870 0230 9138      		cpi r25,lo8(-127)
 871 0232 01F4      		brne .L75
 872               	.LSM148:
 873 0234 8091 0000 		lds r24,mod_keys
 874 0238 8860      		ori r24,lo8(8)
 875 023a 00C0      		rjmp .L86
 876               	.L75:
 877               	.LSM149:
 878 023c 9039      		cpi r25,lo8(-112)
 879 023e 01F0      		breq .L77
 880               	.L74:
 881               	.LSM150:
 882 0240 9038      		cpi r25,lo8(-128)
 883 0242 01F4      		brne .L78
 884               	.L77:
 885               	.LSM151:
 886 0244 8091 0000 		lds r24,mod_keys
 887 0248 8068      		ori r24,lo8(-128)
 888 024a 00C0      		rjmp .L86
 889               	.L78:
 890               	.LSM152:
 891 024c 9F77      		andi r25,lo8(127)
 892               	.LVL71:
 893 024e 8091 0000 		lds r24,mod_keys
 894 0252 892B      		or r24,r25
 895               	.LVL72:
 896               	.L86:
 897 0254 8093 0000 		sts mod_keys,r24
 898               	.L89:
 899               	.LSM153:
 900 0258 0E94 0000 		call send
 901 025c 00C0      		rjmp .L43
 902               	.LVL73:
 903               	.L73:
 904               	.LSM154:
 905 025e 9091 0000 		lds r25,last_key
 906               	.LVL74:
 907 0262 9817      		cp r25,r24
 908 0264 01F4      		brne .L79
 909               	.LSM155:
 910 0266 2091 0000 		lds r18,release_time
 911 026a 3091 0000 		lds r19,release_time+1
 912               	.LVL75:
 913 026e 2A30      		cpi r18,10
 914 0270 3105      		cpc r19,__zero_reg__
 915 0272 00F0      		brlo .L80
 916               	.L79:
 917               	.LVL76:
 918               	.LSM156:
 919 0274 9091 0000 		lds r25,queue+4
 920 0278 9093 0000 		sts queue+5,r25
 921               	.LVL77:
 922 027c 9091 0000 		lds r25,queue+3
 923 0280 9093 0000 		sts queue+4,r25
 924               	.LVL78:
 925 0284 9091 0000 		lds r25,queue+2
 926 0288 9093 0000 		sts queue+3,r25
 927               	.LVL79:
 928 028c 9091 0000 		lds r25,queue+1
 929 0290 9093 0000 		sts queue+2,r25
 930               	.LVL80:
 931 0294 9091 0000 		lds r25,queue
 932 0298 9093 0000 		sts queue+1,r25
 933               	.LVL81:
 934               	.LSM157:
 935 029c 8093 0000 		sts queue,r24
 936               	.LSM158:
 937 02a0 8983      		std Y+1,r24
 938 02a2 0E94 0000 		call send
 939               	.LVL82:
 940 02a6 8981      		ldd r24,Y+1
 941               	.LVL83:
 942               	.L80:
 943               	.LSM159:
 944 02a8 9091 0000 		lds r25,last_key
 945 02ac 9817      		cp r25,r24
 946 02ae 01F4      		brne .L81
 947               	.LSM160:
 948 02b0 81E0      		ldi r24,lo8(1)
 949 02b2 90E0      		ldi r25,hi8(1)
 950 02b4 9093 0000 		sts press_time2+1,r25
 951 02b8 8093 0000 		sts press_time2,r24
 952 02bc 00C0      		rjmp .L88
 953               	.L81:
 954               	.LSM161:
 955 02be 8093 0000 		sts last_key,r24
 956               	.LSM162:
 957 02c2 81E0      		ldi r24,lo8(1)
 958 02c4 90E0      		ldi r25,hi8(1)
 959 02c6 9093 0000 		sts press_time+1,r25
 960 02ca 8093 0000 		sts press_time,r24
 961               	.LSM163:
 962 02ce 1092 0000 		sts press_time2+1,__zero_reg__
 963 02d2 1092 0000 		sts press_time2,__zero_reg__
 964               	.LSM164:
 965 02d6 1092 0000 		sts release_time+1,__zero_reg__
 966 02da 1092 0000 		sts release_time,__zero_reg__
 967               	.L88:
 968               	.LSM165:
 969 02de 1092 0000 		sts repeat_time+1,__zero_reg__
 970 02e2 1092 0000 		sts repeat_time,__zero_reg__
 971               	.L43:
 972               	/* epilogue start */
 973               	.LSM166:
 974 02e6 0F90      		pop __tmp_reg__
 975 02e8 CF91      		pop r28
 976 02ea DF91      		pop r29
 977 02ec 0895      		ret
 978               	.LFE11:
 980               		.section	.text.repeat_tick,"ax",@progbits
 981               	.global	repeat_tick
 983               	repeat_tick:
 984               	.LFB10:
 985               	.LSM167:
 986               	/* prologue: function */
 987               	/* frame size = 0 */
 988               	/* stack size = 0 */
 989               	.L__stack_usage = 0
 990               	.LSM168:
 991 0000 8091 0000 		lds r24,repeat_time
 992 0004 9091 0000 		lds r25,repeat_time+1
 993 0008 0097      		sbiw r24,0
 994 000a 01F0      		breq .L92
 995               	.LSM169:
 996 000c 2091 0000 		lds r18,release_time
 997 0010 3091 0000 		lds r19,release_time+1
 998 0014 3695      		lsr r19
 999 0016 2795      		ror r18
 1000 0018 3695      		lsr r19
 1001 001a 2795      		ror r18
 1002 001c 8217      		cp r24,r18
 1003 001e 9307      		cpc r25,r19
 1004 0020 00F4      		brsh .L93
 1005               	.LSM170:
 1006 0022 0196      		adiw r24,1
 1007 0024 00C0      		rjmp .L102
 1008               	.L93:
 1009               	.LSM171:
 1010 0026 81E0      		ldi r24,lo8(1)
 1011 0028 90E0      		ldi r25,hi8(1)
 1012 002a 9093 0000 		sts repeat_time+1,r25
 1013 002e 8093 0000 		sts repeat_time,r24
 1014               	.LSM172:
 1015 0032 8091 0000 		lds r24,turbo_repeat
 1016 0036 8823      		tst r24
 1017 0038 01F4      		brne .+2
 1018 003a 00C0      		rjmp .L91
 1019               	.LSM173:
 1020 003c 8091 0000 		lds r24,mod_keys
 1021 0040 8093 0000 		sts keyboard_modifier_keys,r24
 1022               	.LSM174:
 1023 0044 8091 0000 		lds r24,last_key
 1024 0048 0E94 0000 		call get_code
 1025 004c 8093 0000 		sts keyboard_keys,r24
 1026               	.LSM175:
 1027 0050 0E94 0000 		call usb_keyboard_send
 1028 0054 8823      		tst r24
 1029 0056 01F0      		breq .+2
 1030 0058 00C0      		rjmp .L91
 1031               	.LSM176:
 1032 005a 1092 0000 		sts keyboard_keys,__zero_reg__
 1033               	.LSM177:
 1034 005e 0E94 0000 		call usb_keyboard_send
 1035 0062 0895      		ret
 1036               	.L92:
 1037               	.LSM178:
 1038 0064 8091 0000 		lds r24,press_time2
 1039 0068 9091 0000 		lds r25,press_time2+1
 1040 006c 0097      		sbiw r24,0
 1041 006e 01F0      		breq .L95
 1042               	.LSM179:
 1043 0070 4091 0000 		lds r20,press_time
 1044 0074 5091 0000 		lds r21,press_time+1
 1045 0078 2091 0000 		lds r18,pressed+35
 1046 007c 2223      		tst r18
 1047 007e 01F0      		breq .L101
 1048 0080 25E0      		ldi r18,lo8(5)
 1049 0082 30E0      		ldi r19,hi8(5)
 1050 0084 00C0      		rjmp .L96
 1051               	.L101:
 1052 0086 2EE1      		ldi r18,lo8(30)
 1053 0088 30E0      		ldi r19,hi8(30)
 1054               	.L96:
 1055               	.LSM180:
 1056 008a 240F      		add r18,r20
 1057 008c 351F      		adc r19,r21
 1058 008e 8217      		cp r24,r18
 1059 0090 9307      		cpc r25,r19
 1060 0092 00F4      		brsh .L97
 1061               	.LSM181:
 1062 0094 0196      		adiw r24,1
 1063 0096 9093 0000 		sts press_time2+1,r25
 1064 009a 8093 0000 		sts press_time2,r24
 1065 009e 0895      		ret
 1066               	.L97:
 1067               	.LSM182:
 1068 00a0 81E0      		ldi r24,lo8(1)
 1069 00a2 90E0      		ldi r25,hi8(1)
 1070               	.L102:
 1071 00a4 9093 0000 		sts repeat_time+1,r25
 1072 00a8 8093 0000 		sts repeat_time,r24
 1073 00ac 0895      		ret
 1074               	.L95:
 1075               	.LSM183:
 1076 00ae 2091 0000 		lds r18,release_time
 1077 00b2 3091 0000 		lds r19,release_time+1
 1078 00b6 8091 0000 		lds r24,press_time
 1079 00ba 9091 0000 		lds r25,press_time+1
 1080 00be 2115      		cp r18,__zero_reg__
 1081 00c0 3105      		cpc r19,__zero_reg__
 1082 00c2 01F0      		breq .L98
 1083               	.LSM184:
 1084 00c4 C296      		adiw r24,50
 1085 00c6 2817      		cp r18,r24
 1086 00c8 3907      		cpc r19,r25
 1087 00ca 00F4      		brsh .L99
 1088               	.LSM185:
 1089 00cc 2F5F      		subi r18,lo8(-(1))
 1090 00ce 3F4F      		sbci r19,hi8(-(1))
 1091 00d0 3093 0000 		sts release_time+1,r19
 1092 00d4 2093 0000 		sts release_time,r18
 1093 00d8 0895      		ret
 1094               	.L99:
 1095               	.LSM186:
 1096 00da 1092 0000 		sts last_key,__zero_reg__
 1097               	.LSM187:
 1098 00de 1092 0000 		sts release_time+1,__zero_reg__
 1099 00e2 1092 0000 		sts release_time,__zero_reg__
 1100               	.LSM188:
 1101 00e6 1092 0000 		sts press_time+1,__zero_reg__
 1102 00ea 1092 0000 		sts press_time,__zero_reg__
 1103               	.LSM189:
 1104 00ee 1092 0000 		sts press_time2+1,__zero_reg__
 1105 00f2 1092 0000 		sts press_time2,__zero_reg__
 1106 00f6 0895      		ret
 1107               	.L98:
 1108               	.LSM190:
 1109 00f8 0097      		sbiw r24,0
 1110 00fa 01F0      		breq .L91
 1111               	.LSM191:
 1112 00fc 8A3F      		cpi r24,250
 1113 00fe 9105      		cpc r25,__zero_reg__
 1114 0100 00F4      		brsh .L100
 1115               	.LSM192:
 1116 0102 0196      		adiw r24,1
 1117 0104 9093 0000 		sts press_time+1,r25
 1118 0108 8093 0000 		sts press_time,r24
 1119 010c 0895      		ret
 1120               	.L100:
 1121               	.LSM193:
 1122 010e 1092 0000 		sts press_time+1,__zero_reg__
 1123 0112 1092 0000 		sts press_time,__zero_reg__
 1124               	.L91:
 1125 0116 0895      		ret
 1126               	.LFE10:
 1128               		.section	.text.poll,"ax",@progbits
 1129               	.global	poll
 1131               	poll:
 1132               	.LFB9:
 1133               	.LSM194:
 1134 0000 8F92      		push r8
 1135 0002 9F92      		push r9
 1136 0004 AF92      		push r10
 1137 0006 BF92      		push r11
 1138 0008 CF92      		push r12
 1139 000a DF92      		push r13
 1140 000c EF92      		push r14
 1141 000e FF92      		push r15
 1142 0010 0F93      		push r16
 1143 0012 1F93      		push r17
 1144 0014 CF93      		push r28
 1145 0016 DF93      		push r29
 1146               	/* prologue: function */
 1147               	/* frame size = 0 */
 1148               	/* stack size = 12 */
 1149               	.L__stack_usage = 12
 1150               	.LVL84:
 1151               	.LSM195:
 1152 0018 00E0      		ldi r16,lo8(row_port)
 1153 001a 10E0      		ldi r17,hi8(row_port)
 1154 001c C0E0      		ldi r28,lo8(row_bit)
 1155 001e D0E0      		ldi r29,hi8(row_bit)
 1156               	.LSM196:
 1157 0020 9924      		clr r9
 1158               	.LVL85:
 1159               	.L107:
 1160               	.LSM197:
 1161 0022 D801      		movw r26,r16
 1162 0024 ED91      		ld r30,X+
 1163 0026 FC91      		ld r31,X
 1164               	.LSM198:
 1165 0028 5E01      		movw r10,r28
 1166               	.LSM199:
 1167 002a 9881      		ld r25,Y
 1168 002c 9095      		com r25
 1169 002e 8081      		ld r24,Z
 1170 0030 8923      		and r24,r25
 1171 0032 8083      		st Z,r24
 1172               	.LVL86:
 1173               	.LBB30:
 1174               	.LBB31:
 1175               	.LSM200:
 1176 0034 B5E0      		 ldi r27,lo8(5)
 1177 0036 BA95      	    1:dec r27
 1178 0038 01F4      	    brne 1b
 1179 003a 0000      		nop
 1180               	.LVL87:
 1181 003c 60E0      		ldi r22,lo8(col_pin)
 1182 003e E62E      		mov r14,r22
 1183 0040 60E0      		ldi r22,hi8(col_pin)
 1184 0042 F62E      		mov r15,r22
 1185 0044 50E0      		ldi r21,lo8(col_bit)
 1186 0046 C52E      		mov r12,r21
 1187 0048 50E0      		ldi r21,hi8(col_bit)
 1188 004a D52E      		mov r13,r21
 1189               	.LBE31:
 1190               	.LBE30:
 1191               	.LSM201:
 1192 004c 892C      		mov r8,r9
 1193               	.LVL88:
 1194               	.L106:
 1195               	.LSM202:
 1196 004e D701      		movw r26,r14
 1197 0050 ED91      		ld r30,X+
 1198 0052 FD91      		ld r31,X+
 1199 0054 7D01      		movw r14,r26
 1200 0056 D601      		movw r26,r12
 1201 0058 8D91      		ld r24,X+
 1202 005a 6D01      		movw r12,r26
 1203 005c 9081      		ld r25,Z
 1204 005e 8923      		and r24,r25
 1205 0060 282D      		mov r18,r8
 1206 0062 30E0      		ldi r19,lo8(0)
 1207 0064 01F4      		brne .L104
 1208               	.LSM203:
 1209 0066 2050      		subi r18,lo8(-(pressed))
 1210 0068 3040      		sbci r19,hi8(-(pressed))
 1211 006a F901      		movw r30,r18
 1212 006c 8081      		ld r24,Z
 1213 006e 8823      		tst r24
 1214 0070 01F4      		brne .L105
 1215               	.LSM204:
 1216 0072 882D      		mov r24,r8
 1217 0074 0E94 0000 		call key_press
 1218 0078 00C0      		rjmp .L105
 1219               	.L104:
 1220               	.LSM205:
 1221 007a 2050      		subi r18,lo8(-(pressed))
 1222 007c 3040      		sbci r19,hi8(-(pressed))
 1223 007e D901      		movw r26,r18
 1224 0080 8C91      		ld r24,X
 1225 0082 8823      		tst r24
 1226 0084 01F0      		breq .L105
 1227               	.LSM206:
 1228 0086 882D      		mov r24,r8
 1229 0088 0E94 0000 		call key_release
 1230               	.L105:
 1231 008c B5E0      		ldi r27,lo8(5)
 1232 008e 8B0E      		add r8,r27
 1233               	.LVL89:
 1234               	.LSM207:
 1235 0090 E0E0      		ldi r30,lo8(col_pin+24)
 1236 0092 EE16      		cp r14,r30
 1237 0094 E0E0      		ldi r30,hi8(col_pin+24)
 1238 0096 FE06      		cpc r15,r30
 1239 0098 01F4      		brne .L106
 1240               	.LSM208:
 1241 009a D801      		movw r26,r16
 1242 009c ED91      		ld r30,X+
 1243 009e FD91      		ld r31,X+
 1244 00a0 8D01      		movw r16,r26
 1245 00a2 2196      		adiw r28,1
 1246 00a4 8081      		ld r24,Z
 1247 00a6 D501      		movw r26,r10
 1248 00a8 9C91      		ld r25,X
 1249 00aa 892B      		or r24,r25
 1250 00ac 8083      		st Z,r24
 1251               	.LSM209:
 1252 00ae 9394      		inc r9
 1253               	.LVL90:
 1254 00b0 B92D      		mov r27,r9
 1255 00b2 B530      		cpi r27,lo8(5)
 1256 00b4 01F0      		breq .+2
 1257 00b6 00C0      		rjmp .L107
 1258               	.LSM210:
 1259 00b8 0E94 0000 		call repeat_tick
 1260               	.LVL91:
 1261               	.LBB32:
 1262               	.LBB33:
 1263               	.LSM211:
 1264 00bc EFE1      		 ldi r30,lo8(19999)
 1265 00be FEE4      	    ldi r31,hi8(19999)
 1266 00c0 3197      	    1:sbiw r30,1
 1267 00c2 01F4      	    brne 1b
 1268 00c4 00C0      		rjmp .
 1269 00c6 0000      		nop
 1270               	/* epilogue start */
 1271               	.LBE33:
 1272               	.LBE32:
 1273               	.LSM212:
 1274 00c8 DF91      		pop r29
 1275 00ca CF91      		pop r28
 1276 00cc 1F91      		pop r17
 1277 00ce 0F91      		pop r16
 1278 00d0 FF90      		pop r15
 1279 00d2 EF90      		pop r14
 1280 00d4 DF90      		pop r13
 1281 00d6 CF90      		pop r12
 1282 00d8 BF90      		pop r11
 1283 00da AF90      		pop r10
 1284 00dc 9F90      		pop r9
 1285               	.LVL92:
 1286 00de 8F90      		pop r8
 1287               	.LVL93:
 1288 00e0 0895      		ret
 1289               	.LFE9:
 1291               		.section	.text.main,"ax",@progbits
 1292               	.global	main
 1294               	main:
 1295               	.LFB7:
 1296               	.LSM213:
 1297               	/* prologue: function */
 1298               	/* frame size = 0 */
 1299               	/* stack size = 0 */
 1300               	.L__stack_usage = 0
 1301               	.LSM214:
 1302 0000 84B7      		in r24,84-32
 1303 0002 877F      		andi r24,lo8(-9)
 1304 0004 84BF      		out 84-32,r24
 1305               	.LSM215:
 1306 0006 88E1      		ldi r24,lo8(24)
 1307               	/* #APP */
 1308               	 ;  162 "catboard.c" 1
 1309 0008 0FB6      		in __tmp_reg__, __SREG__
 1310 000a F894      		cli
 1311 000c 8093 6000 		sts 96, r24
 1312 0010 1092 6000 		sts 96, __zero_reg__
 1313 0014 0FBE      		out __SREG__,__tmp_reg__
 1314               		
 1315               	 ;  0 "" 2
 1316               	.LVL94:
 1317               	/* #NOAPP */
 1318               	.LBB34:
 1319               	.LBB35:
 1320               	.LSM216:
 1321 0016 90E0      		ldi r25,lo8(0)
 1322 0018 80E8      		ldi r24,lo8(-128)
 1323               	/* #APP */
 1324               	 ;  1492 "/usr/lib/gcc/avr/4.5.3/../../../avr/include/avr/power.h" 1
 1325 001a 0FB6      		in __tmp_reg__,__SREG__
 1326 001c F894      		cli
 1327 001e 8093 6100 		sts 97, r24
 1328 0022 9093 6100 		sts 97, r25
 1329 0026 0FBE      		out __SREG__, __tmp_reg__
 1330               	 ;  0 "" 2
 1331               	/* #NOAPP */
 1332               	.LBE35:
 1333               	.LBE34:
 1334               	.LSM217:
 1335 0028 0E94 0000 		call init
 1336               	.L111:
 1337               	.LSM218:
 1338 002c 0E94 0000 		call poll
 1339 0030 00C0      		rjmp .L111
 1340               	.LFE7:
 1342               	.global	layer2
 1343               		.data
 1346               	layer2:
 1347 0000 29        		.byte	41
 1348 0001 F1        		.byte	-15
 1349 0002 90        		.byte	-112
 1350 0003 2B        		.byte	43
 1351 0004 35        		.byte	53
 1352 0005 FD        		.byte	-3
 1353 0006 14        		.byte	20
 1354 0007 09        		.byte	9
 1355 0008 0D        		.byte	13
 1356 0009 1E        		.byte	30
 1357 000a 84        		.byte	-124
 1358 000b 38        		.byte	56
 1359 000c 1C        		.byte	28
 1360 000d 06        		.byte	6
 1361 000e 1F        		.byte	31
 1362 000f 84        		.byte	-124
 1363 0010 16        		.byte	22
 1364 0011 19        		.byte	25
 1365 0012 18        		.byte	24
 1366 0013 20        		.byte	32
 1367 0014 81        		.byte	-127
 1368 0015 10        		.byte	16
 1369 0016 04        		.byte	4
 1370 0017 0E        		.byte	14
 1371 0018 21        		.byte	33
 1372 0019 82        		.byte	-126
 1373 001a 0C        		.byte	12
 1374 001b 13        		.byte	19
 1375 001c 08        		.byte	8
 1376 001d 22        		.byte	34
 1377 001e 2C        		.byte	44
 1378 001f 17        		.byte	23
 1379 0020 15        		.byte	21
 1380 0021 11        		.byte	17
 1381 0022 23        		.byte	35
 1382 0023 FF        		.byte	-1
 1383 0024 1B        		.byte	27
 1384 0025 12        		.byte	18
 1385 0026 0A        		.byte	10
 1386 0027 24        		.byte	36
 1387 0028 C0        		.byte	-64
 1388 0029 05        		.byte	5
 1389 002a 0F        		.byte	15
 1390 002b 0B        		.byte	11
 1391 002c 25        		.byte	37
 1392 002d 31        		.byte	49
 1393 002e 36        		.byte	54
 1394 002f 07        		.byte	7
 1395 0030 1A        		.byte	26
 1396 0031 26        		.byte	38
 1397 0032 30        		.byte	48
 1398 0033 37        		.byte	55
 1399 0034 33        		.byte	51
 1400 0035 1D        		.byte	29
 1401 0036 27        		.byte	39
 1402 0037 2E        		.byte	46
 1403 0038 F2        		.byte	-14
 1404 0039 34        		.byte	52
 1405 003a 2F        		.byte	47
 1406 003b 2D        		.byte	45
 1407               	.global	layout
 1410               	layout:
 1411 003c 0000      		.word	layer2
 1412               	.global	mac_mode
 1413               	.global	mac_mode
 1414               		.section .bss
 1417               	mac_mode:
 1418 0000 00        		.skip 1,0
 1419               	.global	layer1
 1420               		.data
 1423               	layer1:
 1424 003e 29        		.byte	41
 1425 003f F1        		.byte	-15
 1426 0040 90        		.byte	-112
 1427 0041 2B        		.byte	43
 1428 0042 35        		.byte	53
 1429 0043 FD        		.byte	-3
 1430 0044 1D        		.byte	29
 1431 0045 04        		.byte	4
 1432 0046 14        		.byte	20
 1433 0047 1E        		.byte	30
 1434 0048 84        		.byte	-124
 1435 0049 1B        		.byte	27
 1436 004a 16        		.byte	22
 1437 004b 1A        		.byte	26
 1438 004c 1F        		.byte	31
 1439 004d 84        		.byte	-124
 1440 004e 06        		.byte	6
 1441 004f 07        		.byte	7
 1442 0050 08        		.byte	8
 1443 0051 20        		.byte	32
 1444 0052 81        		.byte	-127
 1445 0053 19        		.byte	25
 1446 0054 09        		.byte	9
 1447 0055 15        		.byte	21
 1448 0056 21        		.byte	33
 1449 0057 82        		.byte	-126
 1450 0058 05        		.byte	5
 1451 0059 0A        		.byte	10
 1452 005a 17        		.byte	23
 1453 005b 22        		.byte	34
 1454 005c 2C        		.byte	44
 1455 005d 11        		.byte	17
 1456 005e 0B        		.byte	11
 1457 005f 1C        		.byte	28
 1458 0060 23        		.byte	35
 1459 0061 FF        		.byte	-1
 1460 0062 10        		.byte	16
 1461 0063 0D        		.byte	13
 1462 0064 18        		.byte	24
 1463 0065 24        		.byte	36
 1464 0066 C0        		.byte	-64
 1465 0067 36        		.byte	54
 1466 0068 0E        		.byte	14
 1467 0069 0C        		.byte	12
 1468 006a 25        		.byte	37
 1469 006b 31        		.byte	49
 1470 006c 37        		.byte	55
 1471 006d 0F        		.byte	15
 1472 006e 12        		.byte	18
 1473 006f 26        		.byte	38
 1474 0070 30        		.byte	48
 1475 0071 38        		.byte	56
 1476 0072 33        		.byte	51
 1477 0073 13        		.byte	19
 1478 0074 27        		.byte	39
 1479 0075 2E        		.byte	46
 1480 0076 F2        		.byte	-14
 1481 0077 34        		.byte	52
 1482 0078 2F        		.byte	47
 1483 0079 2D        		.byte	45
 1484               	.global	layer_fn
 1487               	layer_fn:
 1488 007a FB        		.byte	-5
 1489 007b 82        		.byte	-126
 1490 007c 90        		.byte	-112
 1491 007d 2B        		.byte	43
 1492 007e 46        		.byte	70
 1493 007f FD        		.byte	-3
 1494 0080 00        		.byte	0
 1495 0081 00        		.byte	0
 1496 0082 00        		.byte	0
 1497 0083 3A        		.byte	58
 1498 0084 84        		.byte	-124
 1499 0085 00        		.byte	0
 1500 0086 00        		.byte	0
 1501 0087 00        		.byte	0
 1502 0088 3B        		.byte	59
 1503 0089 84        		.byte	-124
 1504 008a 00        		.byte	0
 1505 008b 00        		.byte	0
 1506 008c 00        		.byte	0
 1507 008d 3C        		.byte	60
 1508 008e 81        		.byte	-127
 1509 008f 00        		.byte	0
 1510 0090 00        		.byte	0
 1511 0091 00        		.byte	0
 1512 0092 3D        		.byte	61
 1513 0093 82        		.byte	-126
 1514 0094 00        		.byte	0
 1515 0095 00        		.byte	0
 1516 0096 35        		.byte	53
 1517 0097 3E        		.byte	62
 1518 0098 FC        		.byte	-4
 1519 0099 2A        		.byte	42
 1520 009a 28        		.byte	40
 1521 009b 28        		.byte	40
 1522 009c 3F        		.byte	63
 1523 009d FF        		.byte	-1
 1524 009e 4C        		.byte	76
 1525 009f 50        		.byte	80
 1526 00a0 4A        		.byte	74
 1527 00a1 40        		.byte	64
 1528 00a2 FE        		.byte	-2
 1529 00a3 49        		.byte	73
 1530 00a4 51        		.byte	81
 1531 00a5 52        		.byte	82
 1532 00a6 41        		.byte	65
 1533 00a7 00        		.byte	0
 1534 00a8 00        		.byte	0
 1535 00a9 4F        		.byte	79
 1536 00aa 4D        		.byte	77
 1537 00ab 42        		.byte	66
 1538 00ac 47        		.byte	71
 1539 00ad 00        		.byte	0
 1540 00ae 4E        		.byte	78
 1541 00af 4B        		.byte	75
 1542 00b0 43        		.byte	67
 1543 00b1 45        		.byte	69
 1544 00b2 A0        		.byte	-96
 1545 00b3 48        		.byte	72
 1546 00b4 29        		.byte	41
 1547 00b5 44        		.byte	68
 1548               	.global	layer_fnlock
 1551               	layer_fnlock:
 1552 00b6 29        		.byte	41
 1553 00b7 82        		.byte	-126
 1554 00b8 90        		.byte	-112
 1555 00b9 2B        		.byte	43
 1556 00ba 35        		.byte	53
 1557 00bb FD        		.byte	-3
 1558 00bc 00        		.byte	0
 1559 00bd 4E        		.byte	78
 1560 00be 4B        		.byte	75
 1561 00bf 1E        		.byte	30
 1562 00c0 84        		.byte	-124
 1563 00c1 00        		.byte	0
 1564 00c2 50        		.byte	80
 1565 00c3 4A        		.byte	74
 1566 00c4 1F        		.byte	31
 1567 00c5 84        		.byte	-124
 1568 00c6 00        		.byte	0
 1569 00c7 51        		.byte	81
 1570 00c8 52        		.byte	82
 1571 00c9 20        		.byte	32
 1572 00ca 81        		.byte	-127
 1573 00cb 00        		.byte	0
 1574 00cc 4F        		.byte	79
 1575 00cd 4D        		.byte	77
 1576 00ce 21        		.byte	33
 1577 00cf 2C        		.byte	44
 1578 00d0 00        		.byte	0
 1579 00d1 28        		.byte	40
 1580 00d2 35        		.byte	53
 1581 00d3 22        		.byte	34
 1582 00d4 2C        		.byte	44
 1583 00d5 62        		.byte	98
 1584 00d6 55        		.byte	85
 1585 00d7 54        		.byte	84
 1586 00d8 23        		.byte	35
 1587 00d9 FF        		.byte	-1
 1588 00da 59        		.byte	89
 1589 00db 5C        		.byte	92
 1590 00dc 5F        		.byte	95
 1591 00dd 24        		.byte	36
 1592 00de C0        		.byte	-64
 1593 00df 5A        		.byte	90
 1594 00e0 5D        		.byte	93
 1595 00e1 60        		.byte	96
 1596 00e2 25        		.byte	37
 1597 00e3 28        		.byte	40
 1598 00e4 5B        		.byte	91
 1599 00e5 5E        		.byte	94
 1600 00e6 61        		.byte	97
 1601 00e7 26        		.byte	38
 1602 00e8 53        		.byte	83
 1603 00e9 63        		.byte	99
 1604 00ea 57        		.byte	87
 1605 00eb 56        		.byte	86
 1606 00ec 27        		.byte	39
 1607 00ed 2E        		.byte	46
 1608 00ee A0        		.byte	-96
 1609 00ef 28        		.byte	40
 1610 00f0 29        		.byte	41
 1611 00f1 2D        		.byte	45
 1612               	.global	row_port
 1615               	row_port:
 1616 00f2 2800      		.word	40
 1617 00f4 2800      		.word	40
 1618 00f6 2800      		.word	40
 1619 00f8 2800      		.word	40
 1620 00fa 2800      		.word	40
 1621               	.global	row_bit
 1624               	row_bit:
 1625 00fc 80        		.byte	-128
 1626 00fd 40        		.byte	64
 1627 00fe 20        		.byte	32
 1628 00ff 10        		.byte	16
 1629 0100 04        		.byte	4
 1630               	.global	col_pin
 1633               	col_pin:
 1634 0101 2900      		.word	41
 1635 0103 2900      		.word	41
 1636 0105 2900      		.word	41
 1637 0107 2900      		.word	41
 1638 0109 2900      		.word	41
 1639 010b 2900      		.word	41
 1640 010d 2300      		.word	35
 1641 010f 2300      		.word	35
 1642 0111 2300      		.word	35
 1643 0113 2300      		.word	35
 1644 0115 2300      		.word	35
 1645 0117 2300      		.word	35
 1646               	.global	col_bit
 1649               	col_bit:
 1650 0119 40        		.byte	64
 1651 011a 20        		.byte	32
 1652 011b 08        		.byte	8
 1653 011c 04        		.byte	4
 1654 011d 02        		.byte	2
 1655 011e 01        		.byte	1
 1656 011f 80        		.byte	-128
 1657 0120 40        		.byte	64
 1658 0121 20        		.byte	32
 1659 0122 10        		.byte	16
 1660 0123 02        		.byte	2
 1661 0124 01        		.byte	1
 1662               	.global	queue
 1665               	queue:
 1666 0125 FF        		.byte	-1
 1667 0126 FF        		.byte	-1
 1668 0127 FF        		.byte	-1
 1669 0128 FF        		.byte	-1
 1670 0129 FF        		.byte	-1
 1671 012a FF        		.byte	-1
 1672 012b FF        		.byte	-1
 1673               	.global	mod_keys
 1674               	.global	mod_keys
 1675               		.section .bss
 1678               	mod_keys:
 1679 0001 00        		.skip 1,0
 1680               	.global	prev_layer
 1681               	.global	prev_layer
 1684               	prev_layer:
 1685 0002 0000      		.skip 2,0
 1686               	.global	turbo_repeat
 1687               		.data
 1690               	turbo_repeat:
 1691 012c 01        		.byte	1
 1692               	.global	last_key
 1693               	.global	last_key
 1694               		.section .bss
 1697               	last_key:
 1698 0004 00        		.skip 1,0
 1699               	.global	press_time
 1700               	.global	press_time
 1703               	press_time:
 1704 0005 0000      		.skip 2,0
 1705               	.global	press_time2
 1706               	.global	press_time2
 1709               	press_time2:
 1710 0007 0000      		.skip 2,0
 1711               	.global	release_time
 1712               	.global	release_time
 1715               	release_time:
 1716 0009 0000      		.skip 2,0
 1717               	.global	repeat_time
 1718               	.global	repeat_time
 1721               	repeat_time:
 1722 000b 0000      		.skip 2,0
 1723               		.comm pressed,60,1
 1812               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 catboard.c
     /tmp/ccnZG3k1.s:2      *ABS*:0000003f __SREG__
     /tmp/ccnZG3k1.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccnZG3k1.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccnZG3k1.s:5      *ABS*:00000034 __CCP__
     /tmp/ccnZG3k1.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccnZG3k1.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccnZG3k1.s:19     .text.change_layout:00000000 change_layout
     /tmp/ccnZG3k1.s:1417   .bss:00000000 mac_mode
     /tmp/ccnZG3k1.s:92     .text.init:00000000 init
                            *COM*:0000003c pressed
     /tmp/ccnZG3k1.s:167    .text.get_code:00000000 get_code
     /tmp/ccnZG3k1.s:1487   .data:0000007a layer_fn
     /tmp/ccnZG3k1.s:1410   .data:0000003c layout
     /tmp/ccnZG3k1.s:1423   .data:0000003e layer1
     /tmp/ccnZG3k1.s:240    .text.send:00000000 send
     /tmp/ccnZG3k1.s:1665   .data:00000125 queue
     /tmp/ccnZG3k1.s:1678   .bss:00000001 mod_keys
     /tmp/ccnZG3k1.s:287    .text.key_release:00000000 key_release
     /tmp/ccnZG3k1.s:1684   .bss:00000002 prev_layer
     /tmp/ccnZG3k1.s:1697   .bss:00000004 last_key
     /tmp/ccnZG3k1.s:1709   .bss:00000007 press_time2
     /tmp/ccnZG3k1.s:1715   .bss:00000009 release_time
     /tmp/ccnZG3k1.s:1703   .bss:00000005 press_time
     /tmp/ccnZG3k1.s:1721   .bss:0000000b repeat_time
     /tmp/ccnZG3k1.s:501    .text.key_press:00000000 key_press
     /tmp/ccnZG3k1.s:1551   .data:000000b6 layer_fnlock
     /tmp/ccnZG3k1.s:1346   .data:00000000 layer2
     /tmp/ccnZG3k1.s:1690   .data:0000012c turbo_repeat
     /tmp/ccnZG3k1.s:983    .text.repeat_tick:00000000 repeat_tick
     /tmp/ccnZG3k1.s:1131   .text.poll:00000000 poll
     /tmp/ccnZG3k1.s:1615   .data:000000f2 row_port
     /tmp/ccnZG3k1.s:1624   .data:000000fc row_bit
     /tmp/ccnZG3k1.s:1633   .data:00000101 col_pin
     /tmp/ccnZG3k1.s:1649   .data:00000119 col_bit
     /tmp/ccnZG3k1.s:1294   .text.main:00000000 main

UNDEFINED SYMBOLS
keyboard_modifier_keys
keyboard_keys
usb_keyboard_send
usb_keyboard_press
usb_init
usb_configured
__do_copy_data
__do_clear_bss
